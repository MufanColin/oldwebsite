

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/profile.JPG">
  <link rel="icon" href="/img/profile.JPG">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Colin Mufan">
  <meta name="keywords" content="">
  
    <meta name="description" content="OS AI Spring 2023 Lab1 Report Thinking 1.1        问题解答 使用 objdump --help 调出帮助文档，内容如下所示: 用法：objdump &lt;选项&gt; &lt;文件&gt;  显示来自目标 &lt;文件&gt; 的信息。  至少必须给出以下选项之一：   -a, --archive-headers    Display archive header">
<meta property="og:type" content="article">
<meta property="og:title" content="OS AI Spring 2023 Lab1 Report">
<meta property="og:url" content="http://mufancolin.github.io/2023/04/30/OS-AI-Spring-2023-Lab1-Report/index.html">
<meta property="og:site_name" content="Colin Mufan&#39;s wonderland">
<meta property="og:description" content="OS AI Spring 2023 Lab1 Report Thinking 1.1        问题解答 使用 objdump --help 调出帮助文档，内容如下所示: 用法：objdump &lt;选项&gt; &lt;文件&gt;  显示来自目标 &lt;文件&gt; 的信息。  至少必须给出以下选项之一：   -a, --archive-headers    Display archive header">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://mufancolin.github.io/img/os_thinking_01_01.png">
<meta property="og:image" content="http://mufancolin.github.io/img/os_thinking_01_02.png">
<meta property="article:published_time" content="2023-04-30T04:53:32.000Z">
<meta property="article:modified_time" content="2023-05-18T08:47:07.400Z">
<meta property="article:author" content="Colin Mufan">
<meta property="article:tag" content="OS(AI)">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://mufancolin.github.io/img/os_thinking_01_01.png">
  
  
  
  <title>OS AI Spring 2023 Lab1 Report - Colin Mufan&#39;s wonderland</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/KaTeX/0.16.2/katex.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"mufancolin.github.io","root":"/","version":"1.9.4","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Colin Mufan&#39;s wonderland</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                <span>Home</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>Archives</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>Categories</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>Tags</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>About</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/background.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="OS AI Spring 2023 Lab1 Report"></span>
          
        </div>

        
          
  <div class="mt-3">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-author" aria-hidden="true"></i>
        Colin Mufan
      </span>
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-04-30 12:53" pubdate>
          2023-04-30
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          25k words
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          212 mins
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">OS AI Spring 2023 Lab1 Report</h1>
            
            
              <div class="markdown-body">
                
                <h1>OS AI Spring 2023 Lab1 Report</h1>
<h2 id="Thinking-1-1">Thinking 1.1</h2>
<figure>
    <img src="/img/os_thinking_01_01.png" srcset="/img/loading.gif" lazyload width="700" height="auto" id="os-thinking-01-01">
</figure>
<h3 id="问题解答">问题解答</h3>
<p>使用 <code>objdump --help</code> 调出帮助文档，内容如下所示:</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-txt" data-language="txt"><code class="language-txt">用法：objdump &lt;选项> &lt;文件>
 显示来自目标 &lt;文件> 的信息。
 至少必须给出以下选项之一：
  -a, --archive-headers    Display archive header information
  -f, --file-headers       Display the contents of the overall file header
  -p, --private-headers    Display object format specific file header contents
  -P, --private=OPT,OPT... Display object format specific contents
  -h, --[section-]headers  Display the contents of the section headers
  -x, --all-headers        Display the contents of all headers
  -d, --disassemble        Display assembler contents of executable sections
  -D, --disassemble-all    Display assembler contents of all sections
      --disassemble=&lt;sym>  Display assembler contents from &lt;sym>
  -S, --source             Intermix source code with disassembly
      --source-comment[=&lt;txt>] Prefix lines of source code with &lt;txt>
  -s, --full-contents      Display the full contents of all sections requested
  -g, --debugging          Display debug information in object file
  -e, --debugging-tags     Display debug information using ctags style
  -G, --stabs              Display (in raw form) any STABS info in the file
  -W, --dwarf[a/=abbrev, A/=addr, r/=aranges, c/=cu_index, L/=decodedline,
              f/=frames, F/=frames-interp, g/=gdb_index, i/=info, o/=loc,
              m/=macro, p/=pubnames, t/=pubtypes, R/=Ranges, l/=rawline,
              s/=str, O/=str-offsets, u/=trace_abbrev, T/=trace_aranges,
              U/=trace_info]
                           Display the contents of DWARF debug sections
  -Wk,--dwarf=links        Display the contents of sections that link to
                            separate debuginfo files
  -WK,--dwarf=follow-links
                           Follow links to separate debug info files (default)
  -WN,--dwarf=no-follow-links
                           Do not follow links to separate debug info files
  -L, --process-links      Display the contents of non-debug sections in
                            separate debuginfo files.  (Implies -WK)
      --ctf[=SECTION]      Display CTF info from SECTION, (default `.ctf')
  -t, --syms               Display the contents of the symbol table(s)
  -T, --dynamic-syms       Display the contents of the dynamic symbol table
  -r, --reloc              Display the relocation entries in the file
  -R, --dynamic-reloc      Display the dynamic relocation entries in the file
  @&lt;file>                  Read options from &lt;file>
  -v, --version            Display this program's version number
  -i, --info               List object formats and architectures supported
  -H, --help               Display this information<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>
<p>重点来看 <code>-D</code> 和 <code>-S</code> 两个选项，即我们在指导书中用到的 <code>objdump -DS xxx</code>。其中 <code>-D</code> 的功能是 <code>Display assembler contents of all sections</code>，即<strong>显示所有节的汇编内容</strong>。<code>-S</code> 的功能是 <code>Intermix source code with disassembly</code>，即<strong>将源代码和反汇编代码交替显示</strong>。</p>
<h3 id="实验细节">实验细节</h3>
<p>首先创建一个名为 <code>main.c</code> 的文件，内容如下所示:</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-c" data-language="c"><code class="language-c"><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h></span></span>

<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
	<span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">int</span> c <span class="token operator">=</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
	<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">"%d\n"</span><span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>
<p>用命令 <code>gcc -c main.c</code> 得到 <code>main.o</code> 文件。再用命令 <code>objdump -DS main.o &gt; output1</code> 反汇编得到 <code>output1</code> 文件，内容如下所示:</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-txt" data-language="txt"><code class="language-txt">
main.o：     文件格式 elf64-x86-64


Disassembly of section .text:

0000000000000000 &lt;main>:
   0:	f3 0f 1e fa          	endbr64 
   4:	55                   	push   %rbp
   5:	48 89 e5             	mov    %rsp,%rbp
   8:	48 83 ec 10          	sub    $0x10,%rsp
   c:	c7 45 f4 01 00 00 00 	movl   $0x1,-0xc(%rbp)
  13:	c7 45 f8 02 00 00 00 	movl   $0x2,-0x8(%rbp)
  1a:	8b 55 f4             	mov    -0xc(%rbp),%edx
  1d:	8b 45 f8             	mov    -0x8(%rbp),%eax
  20:	01 d0                	add    %edx,%eax
  22:	89 45 fc             	mov    %eax,-0x4(%rbp)
  25:	8b 45 fc             	mov    -0x4(%rbp),%eax
  28:	89 c6                	mov    %eax,%esi
  2a:	48 8d 05 00 00 00 00 	lea    0x0(%rip),%rax        # 31 &lt;main+0x31>
  31:	48 89 c7             	mov    %rax,%rdi
  34:	b8 00 00 00 00       	mov    $0x0,%eax
  39:	e8 00 00 00 00       	call   3e &lt;main+0x3e>
  3e:	b8 00 00 00 00       	mov    $0x0,%eax
  43:	c9                   	leave  
  44:	c3                   	ret    

Disassembly of section .rodata:

0000000000000000 &lt;.rodata>:
   0:	25                   	.byte 0x25
   1:	64 0a 00             	or     %fs:(%rax),%al

Disassembly of section .comment:

0000000000000000 &lt;.comment>:
   0:	00 47 43             	add    %al,0x43(%rdi)
   3:	43 3a 20             	rex.XB cmp (%r8),%spl
   6:	28 55 62             	sub    %dl,0x62(%rbp)
   9:	75 6e                	jne    79 &lt;main+0x79>
   b:	74 75                	je     82 &lt;main+0x82>
   d:	20 31                	and    %dh,(%rcx)
   f:	31 2e                	xor    %ebp,(%rsi)
  11:	33 2e                	xor    (%rsi),%ebp
  13:	30 2d 31 75 62 75    	xor    %ch,0x75627531(%rip)        # 7562754a &lt;main+0x7562754a>
  19:	6e                   	outsb  %ds:(%rsi),(%dx)
  1a:	74 75                	je     91 &lt;main+0x91>
  1c:	31 7e 32             	xor    %edi,0x32(%rsi)
  1f:	32 2e                	xor    (%rsi),%ch
  21:	30 34 29             	xor    %dh,(%rcx,%rbp,1)
  24:	20 31                	and    %dh,(%rcx)
  26:	31 2e                	xor    %ebp,(%rsi)
  28:	33 2e                	xor    (%rsi),%ebp
  2a:	30 00                	xor    %al,(%rax)

Disassembly of section .note.gnu.property:

0000000000000000 &lt;.note.gnu.property>:
   0:	04 00                	add    $0x0,%al
   2:	00 00                	add    %al,(%rax)
   4:	10 00                	adc    %al,(%rax)
   6:	00 00                	add    %al,(%rax)
   8:	05 00 00 00 47       	add    $0x47000000,%eax
   d:	4e 55                	rex.WRX push %rbp
   f:	00 02                	add    %al,(%rdx)
  11:	00 00                	add    %al,(%rax)
  13:	c0 04 00 00          	rolb   $0x0,(%rax,%rax,1)
  17:	00 03                	add    %al,(%rbx)
  19:	00 00                	add    %al,(%rax)
  1b:	00 00                	add    %al,(%rax)
  1d:	00 00                	add    %al,(%rax)
	...

Disassembly of section .eh_frame:

0000000000000000 &lt;.eh_frame>:
   0:	14 00                	adc    $0x0,%al
   2:	00 00                	add    %al,(%rax)
   4:	00 00                	add    %al,(%rax)
   6:	00 00                	add    %al,(%rax)
   8:	01 7a 52             	add    %edi,0x52(%rdx)
   b:	00 01                	add    %al,(%rcx)
   d:	78 10                	js     1f &lt;.eh_frame+0x1f>
   f:	01 1b                	add    %ebx,(%rbx)
  11:	0c 07                	or     $0x7,%al
  13:	08 90 01 00 00 1c    	or     %dl,0x1c000001(%rax)
  19:	00 00                	add    %al,(%rax)
  1b:	00 1c 00             	add    %bl,(%rax,%rax,1)
  1e:	00 00                	add    %al,(%rax)
  20:	00 00                	add    %al,(%rax)
  22:	00 00                	add    %al,(%rax)
  24:	45 00 00             	add    %r8b,(%r8)
  27:	00 00                	add    %al,(%rax)
  29:	45 0e                	rex.RB (bad) 
  2b:	10 86 02 43 0d 06    	adc    %al,0x60d4302(%rsi)
  31:	7c 0c                	jl     3f &lt;main+0x3f>
  33:	07                   	(bad)  
  34:	08 00                	or     %al,(%rax)
	...
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>
<p>使用命令 <code>gcc main.o -o main.out</code> 得到 <code>main.out</code> 的可执行文件。再用命令 <code>objdump -DS main.out &gt; output2</code> 反汇编得到 <code>output2</code> 文件，内容如下所示(节选):</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-txt" data-language="txt"><code class="language-txt">
main.out：     文件格式 elf64-x86-64


Disassembly of section .interp:

0000000000000318 &lt;.interp>:
 318:	2f                   	(bad)  
 319:	6c                   	insb   (%dx),%es:(%rdi)
 31a:	69 62 36 34 2f 6c 64 	imul   $0x646c2f34,0x36(%rdx),%esp
 321:	2d 6c 69 6e 75       	sub    $0x756e696c,%eax
 326:	78 2d                	js     355 &lt;__abi_tag-0x37>
 328:	78 38                	js     362 &lt;__abi_tag-0x2a>
 32a:	36 2d 36 34 2e 73    	ss sub $0x732e3436,%eax
 330:	6f                   	outsl  %ds:(%rsi),(%dx)
 331:	2e 32 00             	cs xor (%rax),%al

Disassembly of section .note.gnu.property:

0000000000000338 &lt;.note.gnu.property>:
 338:	04 00                	add    $0x0,%al
 33a:	00 00                	add    %al,(%rax)
 33c:	20 00                	and    %al,(%rax)
 33e:	00 00                	add    %al,(%rax)
 340:	05 00 00 00 47       	add    $0x47000000,%eax
 345:	4e 55                	rex.WRX push %rbp
 347:	00 02                	add    %al,(%rdx)
 349:	00 00                	add    %al,(%rax)
 34b:	c0 04 00 00          	rolb   $0x0,(%rax,%rax,1)
 34f:	00 03                	add    %al,(%rbx)
 351:	00 00                	add    %al,(%rax)
 353:	00 00                	add    %al,(%rax)
 355:	00 00                	add    %al,(%rax)
 357:	00 02                	add    %al,(%rdx)
 359:	80 00 c0             	addb   $0xc0,(%rax)
 35c:	04 00                	add    $0x0,%al
 35e:	00 00                	add    %al,(%rax)
 360:	01 00                	add    %eax,(%rax)
 362:	00 00                	add    %al,(%rax)
 364:	00 00                	add    %al,(%rax)
	...

Disassembly of section .note.gnu.build-id:

0000000000000368 &lt;.note.gnu.build-id>:
 368:	04 00                	add    $0x0,%al
 36a:	00 00                	add    %al,(%rax)
 36c:	14 00                	adc    $0x0,%al
 36e:	00 00                	add    %al,(%rax)
 370:	03 00                	add    (%rax),%eax
 372:	00 00                	add    %al,(%rax)
 374:	47                   	rex.RXB
 375:	4e 55                	rex.WRX push %rbp
 377:	00 bf 1b 99 45 01    	add    %bh,0x145991b(%rdi)
 37d:	43 99                	rex.XB cltd 
 37f:	cb                   	lret   
 380:	d0 81 32 d8 89 18    	rolb   0x1889d832(%rcx)
 386:	6a 66                	push   $0x66
 388:	cf                   	iret   
 389:	3e                   	ds
 38a:	c0                   	.byte 0xc0
 38b:	73                   	.byte 0x73

Disassembly of section .note.ABI-tag:

000000000000038c &lt;__abi_tag>:
 38c:	04 00                	add    $0x0,%al
 38e:	00 00                	add    %al,(%rax)
 390:	10 00                	adc    %al,(%rax)
 392:	00 00                	add    %al,(%rax)
 394:	01 00                	add    %eax,(%rax)
 396:	00 00                	add    %al,(%rax)
 398:	47                   	rex.RXB
 399:	4e 55                	rex.WRX push %rbp
 39b:	00 00                	add    %al,(%rax)
 39d:	00 00                	add    %al,(%rax)
 39f:	00 03                	add    %al,(%rbx)
 3a1:	00 00                	add    %al,(%rax)
 3a3:	00 02                	add    %al,(%rdx)
 3a5:	00 00                	add    %al,(%rax)
 3a7:	00 00                	add    %al,(%rax)
 3a9:	00 00                	add    %al,(%rax)
	...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>
<p>使用命令 <code>readelf -S main.o</code>，内容如下所示:</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-txt" data-language="txt"><code class="language-txt">There are 14 section headers, starting at offset 0x278:

节头：
  [号] 名称              类型             地址              偏移量
       大小              全体大小          旗标   链接   信息   对齐
  [ 0]                   NULL             0000000000000000  00000000
       0000000000000000  0000000000000000           0     0     0
  [ 1] .text             PROGBITS         0000000000000000  00000040
       0000000000000045  0000000000000000  AX       0     0     1
  [ 2] .rela.text        RELA             0000000000000000  000001b8
       0000000000000030  0000000000000018   I      11     1     8
  [ 3] .data             PROGBITS         0000000000000000  00000085
       0000000000000000  0000000000000000  WA       0     0     1
  [ 4] .bss              NOBITS           0000000000000000  00000085
       0000000000000000  0000000000000000  WA       0     0     1
  [ 5] .rodata           PROGBITS         0000000000000000  00000085
       0000000000000004  0000000000000000   A       0     0     1
  [ 6] .comment          PROGBITS         0000000000000000  00000089
       000000000000002c  0000000000000001  MS       0     0     1
  [ 7] .note.GNU-stack   PROGBITS         0000000000000000  000000b5
       0000000000000000  0000000000000000           0     0     1
  [ 8] .note.gnu.pr[...] NOTE             0000000000000000  000000b8
       0000000000000020  0000000000000000   A       0     0     8
  [ 9] .eh_frame         PROGBITS         0000000000000000  000000d8
       0000000000000038  0000000000000000   A       0     0     8
  [10] .rela.eh_frame    RELA             0000000000000000  000001e8
       0000000000000018  0000000000000018   I      11     9     8
  [11] .symtab           SYMTAB           0000000000000000  00000110
       0000000000000090  0000000000000018          12     4     8
  [12] .strtab           STRTAB           0000000000000000  000001a0
       0000000000000014  0000000000000000           0     0     1
  [13] .shstrtab         STRTAB           0000000000000000  00000200
       0000000000000074  0000000000000000           0     0     1
Key to Flags:
  W (write), A (alloc), X (execute), M (merge), S (strings), I (info),
  L (link order), O (extra OS processing required), G (group), T (TLS),
  C (compressed), x (unknown), o (OS specific), E (exclude),
  D (mbind), l (large), p (processor specific)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>
<p>使用命令 <code>readelf -S main.out</code>，内容如下所示:</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-txt" data-language="txt"><code class="language-txt">There are 31 section headers, starting at offset 0x3698:

节头：
  [号] 名称              类型             地址              偏移量
       大小              全体大小          旗标   链接   信息   对齐
  [ 0]                   NULL             0000000000000000  00000000
       0000000000000000  0000000000000000           0     0     0
  [ 1] .interp           PROGBITS         0000000000000318  00000318
       000000000000001c  0000000000000000   A       0     0     1
  [ 2] .note.gnu.pr[...] NOTE             0000000000000338  00000338
       0000000000000030  0000000000000000   A       0     0     8
  [ 3] .note.gnu.bu[...] NOTE             0000000000000368  00000368
       0000000000000024  0000000000000000   A       0     0     4
  [ 4] .note.ABI-tag     NOTE             000000000000038c  0000038c
       0000000000000020  0000000000000000   A       0     0     4
  [ 5] .gnu.hash         GNU_HASH         00000000000003b0  000003b0
       0000000000000024  0000000000000000   A       6     0     8
  [ 6] .dynsym           DYNSYM           00000000000003d8  000003d8
       00000000000000a8  0000000000000018   A       7     1     8
  [ 7] .dynstr           STRTAB           0000000000000480  00000480
       000000000000008f  0000000000000000   A       0     0     1
  [ 8] .gnu.version      VERSYM           0000000000000510  00000510
       000000000000000e  0000000000000002   A       6     0     2
  [ 9] .gnu.version_r    VERNEED          0000000000000520  00000520
       0000000000000030  0000000000000000   A       7     1     8
  [10] .rela.dyn         RELA             0000000000000550  00000550
       00000000000000c0  0000000000000018   A       6     0     8
  [11] .rela.plt         RELA             0000000000000610  00000610
       0000000000000018  0000000000000018  AI       6    24     8
  [12] .init             PROGBITS         0000000000001000  00001000
       000000000000001b  0000000000000000  AX       0     0     4
  [13] .plt              PROGBITS         0000000000001020  00001020
       0000000000000020  0000000000000010  AX       0     0     16
  [14] .plt.got          PROGBITS         0000000000001040  00001040
       0000000000000010  0000000000000010  AX       0     0     16
  [15] .plt.sec          PROGBITS         0000000000001050  00001050
       0000000000000010  0000000000000010  AX       0     0     16
  [16] .text             PROGBITS         0000000000001060  00001060
       000000000000012e  0000000000000000  AX       0     0     16
  [17] .fini             PROGBITS         0000000000001190  00001190
       000000000000000d  0000000000000000  AX       0     0     4
  [18] .rodata           PROGBITS         0000000000002000  00002000
       0000000000000008  0000000000000000   A       0     0     4
  [19] .eh_frame_hdr     PROGBITS         0000000000002008  00002008
       0000000000000034  0000000000000000   A       0     0     4
  [20] .eh_frame         PROGBITS         0000000000002040  00002040
       00000000000000ac  0000000000000000   A       0     0     8
  [21] .init_array       INIT_ARRAY       0000000000003db8  00002db8
       0000000000000008  0000000000000008  WA       0     0     8
  [22] .fini_array       FINI_ARRAY       0000000000003dc0  00002dc0
       0000000000000008  0000000000000008  WA       0     0     8
  [23] .dynamic          DYNAMIC          0000000000003dc8  00002dc8
       00000000000001f0  0000000000000010  WA       7     0     8
  [24] .got              PROGBITS         0000000000003fb8  00002fb8
       0000000000000048  0000000000000008  WA       0     0     8
  [25] .data             PROGBITS         0000000000004000  00003000
       0000000000000010  0000000000000000  WA       0     0     8
  [26] .bss              NOBITS           0000000000004010  00003010
       0000000000000008  0000000000000000  WA       0     0     1
  [27] .comment          PROGBITS         0000000000000000  00003010
       000000000000002b  0000000000000001  MS       0     0     1
  [28] .symtab           SYMTAB           0000000000000000  00003040
       0000000000000360  0000000000000018          29    18     8
  [29] .strtab           STRTAB           0000000000000000  000033a0
       00000000000001dc  0000000000000000           0     0     1
  [30] .shstrtab         STRTAB           0000000000000000  0000357c
       000000000000011a  0000000000000000           0     0     1
Key to Flags:
  W (write), A (alloc), X (execute), M (merge), S (strings), I (info),
  L (link order), O (extra OS processing required), G (group), T (TLS),
  C (compressed), x (unknown), o (OS specific), E (exclude),
  D (mbind), l (large), p (processor specific)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>
<p>使用命令 <code>mips-linux-gnu-gcc -c main.c</code> 得到新的 <code>main.o</code> 文件。再使用命令 <code>mips-linux-gnu-objdump -DS main.o &gt; output3</code> 反汇编得到 <code>output3</code> 文件，内容如下所示:</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-txt" data-language="txt"><code class="language-txt">
main.o：     文件格式 elf32-tradbigmips


Disassembly of section .text:

00000000 &lt;main>:
   0:	27bdffd0 	addiu	sp,sp,-48
   4:	afbf002c 	sw	ra,44(sp)
   8:	afbe0028 	sw	s8,40(sp)
   c:	03a0f025 	move	s8,sp
  10:	3c1c0000 	lui	gp,0x0
  14:	279c0000 	addiu	gp,gp,0
  18:	afbc0010 	sw	gp,16(sp)
  1c:	24020001 	li	v0,1
  20:	afc2001c 	sw	v0,28(s8)
  24:	24020002 	li	v0,2
  28:	afc20020 	sw	v0,32(s8)
  2c:	8fc3001c 	lw	v1,28(s8)
  30:	8fc20020 	lw	v0,32(s8)
  34:	00621021 	addu	v0,v1,v0
  38:	afc20024 	sw	v0,36(s8)
  3c:	8fc50024 	lw	a1,36(s8)
  40:	3c020000 	lui	v0,0x0
  44:	24440000 	addiu	a0,v0,0
  48:	8f820000 	lw	v0,0(gp)
  4c:	0040c825 	move	t9,v0
  50:	0320f809 	jalr	t9
  54:	00000000 	nop
  58:	8fdc0010 	lw	gp,16(s8)
  5c:	00001025 	move	v0,zero
  60:	03c0e825 	move	sp,s8
  64:	8fbf002c 	lw	ra,44(sp)
  68:	8fbe0028 	lw	s8,40(sp)
  6c:	27bd0030 	addiu	sp,sp,48
  70:	03e00008 	jr	ra
  74:	00000000 	nop
	...

Disassembly of section .reginfo:

00000000 &lt;.reginfo>:
   0:	f200003c 	0xf200003c
	...

Disassembly of section .MIPS.abiflags:

00000000 &lt;.MIPS.abiflags>:
   0:	00002002 	srl	a0,zero,0x0
   4:	01010005 	lsa	zero,t0,at,0x1
	...

Disassembly of section .pdr:

00000000 &lt;.pdr>:
   0:	00000000 	nop
   4:	c0000000 	ll	zero,0(zero)
   8:	fffffffc 	0xfffffffc
	...
  14:	00000030 	tge	zero,zero
  18:	0000001e 	0x1e
  1c:	0000001f 	0x1f

Disassembly of section .rodata:

00000000 &lt;.rodata>:
   0:	25640a00 	addiu	a0,t3,2560
	...

Disassembly of section .comment:

00000000 &lt;.comment>:
   0:	00474343 	0x474343
   4:	3a202855 	xori	zero,s1,0x2855
   8:	62756e74 	0x62756e74
   c:	75203130 	jalx	480c4c0 &lt;main+0x480c4c0>
  10:	2e332e30 	sltiu	s3,s1,11824
  14:	2d317562 	sltiu	s1,t1,30050
  18:	756e7475 	jalx	5b9d1d4 &lt;main+0x5b9d1d4>
  1c:	31292031 	andi	t1,t1,0x2031
  20:	302e332e 	andi	t6,at,0x332e
  24:	地址 0x0000000000000024 越界。


Disassembly of section .gnu.attributes:

00000000 &lt;.gnu.attributes>:
   0:	41000000 	mftc0	zero,c0_index
   4:	0f676e75 	jal	d9db9d4 &lt;main+0xd9db9d4>
   8:	00010000 	sll	zero,at,0x0
   c:	00070405 	0x70405
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>
<p>使用命令 <code>mips-linux-gnu-readelf -S main.o</code>，内容如下所示:</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-txt" data-language="txt"><code class="language-txt">There are 17 section headers, starting at offset 0x344:

节头：
  [Nr] Name              Type            Addr     Off    Size   ES Flg Lk Inf Al
  [ 0]                   NULL            00000000 000000 000000 00      0   0  0
  [ 1] .text             PROGBITS        00000000 000040 000080 00  AX  0   0 16
  [ 2] .rel.text         REL             00000000 00027c 000030 08   I 14   1  4
  [ 3] .data             PROGBITS        00000000 0000c0 000000 00  WA  0   0 16
  [ 4] .bss              NOBITS          00000000 0000c0 000000 00  WA  0   0 16
  [ 5] .reginfo          MIPS_REGINFO    00000000 0000c0 000018 18   A  0   0  4
  [ 6] .MIPS.abiflags    MIPS_ABIFLAGS   00000000 0000d8 000018 18   A  0   0  8
  [ 7] .pdr              PROGBITS        00000000 0000f0 000020 00      0   0  4
  [ 8] .rel.pdr          REL             00000000 0002ac 000008 08   I 14   7  4
  [ 9] .mdebug.abi32     PROGBITS        00000000 000110 000000 00      0   0  1
  [10] .rodata           PROGBITS        00000000 000110 000010 00   A  0   0 16
  [11] .comment          PROGBITS        00000000 000120 000026 01  MS  0   0  1
  [12] .note.GNU-stack   PROGBITS        00000000 000146 000000 00      0   0  1
  [13] .gnu.attributes   GNU_ATTRIBUTES  00000000 000146 000010 00      0   0  1
  [14] .symtab           SYMTAB          00000000 000158 000100 10     15  13  4
  [15] .strtab           STRTAB          00000000 000258 000023 00      0   0  1
  [16] .shstrtab         STRTAB          00000000 0002b4 000090 00      0   0  1
Key to Flags:
  W (write), A (alloc), X (execute), M (merge), S (strings), I (info),
  L (link order), O (extra OS processing required), G (group), T (TLS),
  C (compressed), x (unknown), o (OS specific), E (exclude),
  D (mbind), p (processor specific)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>
<p>使用命令 <code>mips-linux-gnu-gcc main.o -o main.out</code> 得到 <code>main.out</code> 的可执行文件。再用命令<code>mips-linux-gnu-objdump -DS main.out &gt; output4</code> 反汇编得到 <code>output4</code> 文件，内容如下所示(节选):</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-txt" data-language="txt"><code class="language-txt">
main.out：     文件格式 elf32-tradbigmips


Disassembly of section .interp:

00400194 &lt;.interp>:
  400194:	2f6c6962 	sltiu	t4,k1,26978
  400198:	2f6c642e 	sltiu	t4,k1,25646
  40019c:	736f2e31 	0x736f2e31
	...

Disassembly of section .MIPS.abiflags:

004001a8 &lt;.MIPS.abiflags>:
  4001a8:	00002002 	srl	a0,zero,0x0
  4001ac:	01010005 	lsa	zero,t0,at,0x1
	...

Disassembly of section .reginfo:

004001c0 &lt;.reginfo>:
  4001c0:	b20000f6 	0xb20000f6
	...
  4001d4:	00419010 	0x419010

Disassembly of section .note.gnu.build-id:

004001d8 &lt;.note.gnu.build-id>:
  4001d8:	00000004 	sllv	zero,zero,zero
  4001dc:	00000014 	0x14
  4001e0:	00000003 	sra	zero,zero,0x0
  4001e4:	474e5500 	bz.w	$w14,4155e8 &lt;_end+0x4588>
  4001e8:	be1f9f49 	cache	0x1f,-24759(s0)
  4001ec:	7f52206a 	0x7f52206a
  4001f0:	b5650adb 	0xb5650adb
  4001f4:	19963dd3 	0x19963dd3
  4001f8:	becb0ac1 	cache	0xb,2753(s6)

Disassembly of section .note.ABI-tag:

004001fc &lt;__abi_tag>:
  4001fc:	00000004 	sllv	zero,zero,zero
  400200:	00000010 	mfhi	zero
  400204:	00000001 	movf	zero,zero,$fcc0
  400208:	474e5500 	bz.w	$w14,41560c &lt;_end+0x45ac>
  40020c:	00000000 	nop
  400210:	00000003 	sra	zero,zero,0x0
  400214:	00000002 	srl	zero,zero,0x0
  400218:	00000000 	nop

Disassembly of section .dynamic:

0040021c &lt;_DYNAMIC>:
  40021c:	00000001 	movf	zero,zero,$fcc0
  400220:	00000044 	0x44
  400224:	0000000c 	syscall
  400228:	004004c4 	0x4004c4
  40022c:	0000000d 	break
  400230:	004007f0 	tge	v0,zero,0x1f
  400234:	00000004 	sllv	zero,zero,zero
  400238:	004002fc 	0x4002fc
  40023c:	00000005 	lsa	zero,zero,zero,0x1
  400240:	004003d8 	0x4003d8
  400244:	00000006 	srlv	zero,zero,zero
  400248:	00400338 	0x400338
  40024c:	0000000a 	movz	zero,zero,zero
  400250:	000000a8 	0xa8
  400254:	0000000b 	movn	zero,zero,zero
  400258:	00000010 	mfhi	zero
  40025c:	70000016 	udi6	zero,zero,zero,0x0
  400260:	00411010 	0x411010
  400264:	70000035 	0x70000035
  400268:	00010dac 	0x10dac
  40026c:	00000015 	0x15
  400270:	00000000 	nop
  400274:	00000003 	sra	zero,zero,0x0
  400278:	00411020 	add	v0,v0,at
  40027c:	70000001 	maddu	zero,zero
  400280:	00000001 	movf	zero,zero,$fcc0
  400284:	70000005 	msubu	zero,zero
  400288:	00000002 	srl	zero,zero,0x0
  40028c:	70000006 	0x70000006
  400290:	00400000 	0x400000
  400294:	7000000a 	0x7000000a
  400298:	00000006 	srlv	zero,zero,zero
  40029c:	70000011 	udi1	zero,zero,zero,0x0
  4002a0:	0000000a 	movz	zero,zero,zero
  4002a4:	70000012 	udi2	zero,zero,zero,0x0
  4002a8:	0000001d 	0x1d
  4002ac:	70000013 	udi3	zero,zero,zero,0x0
  4002b0:	00000005 	lsa	zero,zero,zero,0x1
  4002b4:	6ffffffe 	0x6ffffffe
  4002b8:	00400494 	0x400494
  4002bc:	6fffffff 	0x6fffffff
  4002c0:	00000001 	movf	zero,zero,$fcc0
  4002c4:	6ffffff0 	0x6ffffff0
  4002c8:	00400480 	0x400480
	...<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>
<p>再使用命令 <code>mips-linux-gnu-readelf -S main.out</code>，内容如下所示:</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-txt" data-language="txt"><code class="language-txt">There are 32 section headers, starting at offset 0x1874:

节头：
  [Nr] Name              Type            Addr     Off    Size   ES Flg Lk Inf Al
  [ 0]                   NULL            00000000 000000 000000 00      0   0  0
  [ 1] .interp           PROGBITS        00400194 000194 00000d 00   A  0   0  1
  [ 2] .MIPS.abiflags    MIPS_ABIFLAGS   004001a8 0001a8 000018 18   A  0   0  8
  [ 3] .reginfo          MIPS_REGINFO    004001c0 0001c0 000018 18   A  0   0  4
  [ 4] .note.gnu.bu[...] NOTE            004001d8 0001d8 000024 00   A  0   0  4
  [ 5] .note.ABI-tag     NOTE            004001fc 0001fc 000020 00   A  0   0  4
  [ 6] .dynamic          DYNAMIC         0040021c 00021c 0000e0 08   A  9   0  4
  [ 7] .hash             HASH            004002fc 0002fc 00003c 04   A  8   0  4
  [ 8] .dynsym           DYNSYM          00400338 000338 0000a0 10   A  9   1  4
  [ 9] .dynstr           STRTAB          004003d8 0003d8 0000a8 00   A  0   0  1
  [10] .gnu.version      VERSYM          00400480 000480 000014 02   A  8   0  2
  [11] .gnu.version_r    VERNEED         00400494 000494 000030 00   A  9   1  4
  [12] .init             PROGBITS        004004c4 0004c4 00007c 00  AX  0   0  4
  [13] .text             PROGBITS        00400540 000540 000280 00  AX  0   0 16
  [14] .MIPS.stubs       PROGBITS        004007c0 0007c0 000030 00  AX  0   0  4
  [15] .fini             PROGBITS        004007f0 0007f0 000044 00  AX  0   0  4
  [16] .rodata           PROGBITS        00400840 000840 000020 00   A  0   0 16
  [17] .eh_frame         PROGBITS        00400860 000860 000004 00   A  0   0  4
  [18] .ctors            PROGBITS        00410ff0 000ff0 000008 00  WA  0   0  4
  [19] .dtors            PROGBITS        00410ff8 000ff8 000008 00  WA  0   0  4
  [20] .data             PROGBITS        00411000 001000 000010 00  WA  0   0 16
  [21] .rld_map          PROGBITS        00411010 001010 000004 00  WA  0   0  4
  [22] .got              PROGBITS        00411020 001020 00002c 04 WAp  0   0 16
  [23] .sdata            PROGBITS        0041104c 00104c 000004 00 WAp  0   0  4
  [24] .bss              NOBITS          00411050 001050 000010 00  WA  0   0 16
  [25] .comment          PROGBITS        00000000 001050 000025 01  MS  0   0  1
  [26] .pdr              PROGBITS        00000000 001078 000020 00      0   0  4
  [27] .gnu.attributes   GNU_ATTRIBUTES  00000000 001098 000010 00      0   0  1
  [28] .mdebug.abi32     PROGBITS        00000000 0010a8 000000 00      0   0  1
  [29] .symtab           SYMTAB          00000000 0010a8 0004a0 10     30  50  4
  [30] .strtab           STRTAB          00000000 001548 000208 00      0   0  1
  [31] .shstrtab         STRTAB          00000000 001750 000121 00      0   0  1
Key to Flags:
  W (write), A (alloc), X (execute), M (merge), S (strings), I (info),
  L (link order), O (extra OS processing required), G (group), T (TLS),
  C (compressed), x (unknown), o (OS specific), E (exclude),
  D (mbind), p (processor specific)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>
<h2 id="Thinking-1-2">Thinking 1.2</h2>
<figure>
    <img src="/img/os_thinking_01_02.png" srcset="/img/loading.gif" lazyload width="700" height="auto" id="os-thinking-01-02">
</figure>
<h3 id="1-2-1">1.2.1</h3>
<h4 id="自己编写的-readelf">自己编写的 <code>readelf</code></h4>
<p>切换到 <code>~/学号/tools/readelf</code> 文件夹后，输入命令 <code>./readelf ../../target/mos</code>，内容如下所示:</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">0:0x0
1:0x80010000
2:0x80011360
3:0x80011378
4:0x80011390
5:0x800116b0
6:0x0
7:0x0
8:0x0
9:0x0
10:0x0
11:0x0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>
<h4 id="系统工具-readelf">系统工具 <code>readelf</code></h4>
<p>切换到 <code>~/学号/target</code> 文件夹后，输入命令 <code>readelf -S mos</code>，内容如下所示:</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-txt" data-language="txt"><code class="language-txt">There are 12 section headers, starting at offset 0x1f68:

节头：
  [Nr] Name              Type            Addr     Off    Size   ES Flg Lk Inf Al
  [ 0]                   NULL            00000000 000000 000000 00      0   0  0
  [ 1] .text             PROGBITS        80010000 0000c0 001360 00 WAX  0   0 16
  [ 2] .reginfo          MIPS_REGINFO    80011360 001420 000018 18   A  0   0  4
  [ 3] .MIPS.abiflags    MIPS_ABIFLAGS   80011378 001438 000018 18   A  0   0  8
  [ 4] .rodata.str1.4    PROGBITS        80011390 001450 000320 01 AMS  0   0  4
  [ 5] .rodata           PROGBITS        800116b0 001770 0001c0 00   A  0   0 16
  [ 6] .pdr              PROGBITS        00000000 001930 000240 00      0   0  4
  [ 7] .comment          PROGBITS        00000000 001b70 000025 01  MS  0   0  1
  [ 8] .gnu.attributes   GNU_ATTRIBUTES  00000000 001b95 000010 00      0   0  1
  [ 9] .symtab           SYMTAB          00000000 001ba8 000260 10     10  18  4
  [10] .strtab           STRTAB          00000000 001e08 0000f1 00      0   0  1
  [11] .shstrtab         STRTAB          00000000 001ef9 00006e 00      0   0  1
Key to Flags:
  W (write), A (alloc), X (execute), M (merge), S (strings), I (info),
  L (link order), O (extra OS processing required), G (group), T (TLS),
  C (compressed), x (unknown), o (OS specific), E (exclude),
  D (mbind), p (processor specific)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>
<p>我们不难发现，两者是匹配的。这说明我们编写的 <code>readelf</code> 程序，可以正确解析之前在 <code>target</code> 目录下生成的内核 <code>ELF</code> 文件。</p>
<h3 id="1-2-2">1.2.2</h3>
<h4 id="hello"><code>hello</code></h4>
<p>切换到 <code>~/学号/tools/readelf</code> 文件夹后，输入命令 <code>./readelf hello</code>，内容如下所示(若没有 <code>hello</code> 文件，则需先输入 <code>make hello</code> 命令生成 <code>hello</code> 文件):</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-txt" data-language="txt"><code class="language-txt">0:0x0
1:0x8048134
2:0x8048158
3:0x8048178
4:0x8049000
5:0x8049028
6:0x80490a0
7:0x80b71f0
8:0x80b7d98
9:0x80b8000
10:0x80d4040
11:0x80e98a0
12:0x80eaca8
13:0x80eacb8
14:0x80eacb8
15:0x80eacbc
16:0x80eacc0
17:0x80ecfb4
18:0x80ed000
19:0x80ed060
20:0x80edf08
21:0x80edf40
22:0x80ee2f4
23:0x80ee300
24:0x80f11c4
25:0x0
26:0x0
27:0x0
28:0x0
29:0x0
30:0x0
31:0x0
32:0x0
33:0x0
34:0x0<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>
<p>输入命令 <code>readelf -S hello</code>，内容如下所示:</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">There are 35 section headers, starting at offset 0xb630c:

节头：
  [Nr] Name              Type            Addr     Off    Size   ES Flg Lk Inf Al
  [ 0]                   NULL            00000000 000000 000000 00      0   0  0
  [ 1] .note.gnu.bu[...] NOTE            08048134 000134 000024 00   A  0   0  4
  [ 2] .note.ABI-tag     NOTE            08048158 000158 000020 00   A  0   0  4
  [ 3] .rel.plt          REL             08048178 000178 000070 08  AI 32  18  4
  [ 4] .init             PROGBITS        08049000 001000 000024 00  AX  0   0  4
  [ 5] .plt              PROGBITS        08049028 001028 000070 00  AX  0   0  8
  [ 6] .text             PROGBITS        080490a0 0010a0 06e147 00  AX  0   0 16
  [ 7] __libc_freeres_fn PROGBITS        080b71f0 06f1f0 000ba5 00  AX  0   0 16
  [ 8] .fini             PROGBITS        080b7d98 06fd98 000018 00  AX  0   0  4
  [ 9] .rodata           PROGBITS        080b8000 070000 01c040 00   A  0   0 32
  [10] .eh_frame         PROGBITS        080d4040 08c040 015860 00   A  0   0  4
  [11] .gcc_except_table PROGBITS        080e98a0 0a18a0 000125 00   A  0   0  1
  [12] .tdata            PROGBITS        080eaca8 0a1ca8 000010 00 WAT  0   0  4
  [13] .tbss             NOBITS          080eacb8 0a1cb8 000024 00 WAT  0   0  4
  [14] .init_array       INIT_ARRAY      080eacb8 0a1cb8 000004 04  WA  0   0  4
  [15] .fini_array       FINI_ARRAY      080eacbc 0a1cbc 000004 04  WA  0   0  4
  [16] .data.rel.ro      PROGBITS        080eacc0 0a1cc0 0022f4 00  WA  0   0 32
  [17] .got              PROGBITS        080ecfb4 0a3fb4 000040 00  WA  0   0  4
  [18] .got.plt          PROGBITS        080ed000 0a4000 000044 04  WA  0   0  4
  [19] .data             PROGBITS        080ed060 0a4060 000ea8 00  WA  0   0 32
  [20] __libc_subfreeres PROGBITS        080edf08 0a4f08 000024 00 WAR  0   0  4
  [21] __libc_IO_vtables PROGBITS        080edf40 0a4f40 0003b4 00  WA  0   0 32
  [22] __libc_atexit     PROGBITS        080ee2f4 0a52f4 000004 00 WAR  0   0  4
  [23] .bss              NOBITS          080ee300 0a52f8 002ec4 00  WA  0   0 32
  [24] __libc_freer[...] NOBITS          080f11c4 0a52f8 000010 00  WA  0   0  4
  [25] .comment          PROGBITS        00000000 0a52f8 00002b 01  MS  0   0  1
  [26] .debug_aranges    PROGBITS        00000000 0a5323 000020 00      0   0  1
  [27] .debug_info       PROGBITS        00000000 0a5343 0000ac 00      0   0  1
  [28] .debug_abbrev     PROGBITS        00000000 0a53ef 000071 00      0   0  1
  [29] .debug_line       PROGBITS        00000000 0a5460 000059 00      0   0  1
  [30] .debug_str        PROGBITS        00000000 0a54b9 0000db 01  MS  0   0  1
  [31] .debug_line_str   PROGBITS        00000000 0a5594 00003e 01  MS  0   0  1
  [32] .symtab           SYMTAB          00000000 0a55d4 009960 10     33 1272  4
  [33] .strtab           STRTAB          00000000 0aef34 00725e 00      0   0  1
  [34] .shstrtab         STRTAB          00000000 0b6192 000177 00      0   0  1
Key to Flags:
  W (write), A (alloc), X (execute), M (merge), S (strings), I (info),
  L (link order), O (extra OS processing required), G (group), T (TLS),
  C (compressed), x (unknown), o (OS specific), E (exclude),
  R (retain), D (mbind), p (processor specific)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>
<p>我们不难发现，两者是匹配的。这说明我们编写的 <code>readelf</code> 程序，可以正确解析 <code>hello</code> 文件。</p>
<h4 id="readelf"><code>readelf</code></h4>
<p>当我们试图用自己编写的 <code>readelf</code> 程序来解析 <code>readelf</code> 文件，即输入 <code>./readelf readelf</code> 时，无任何输出。这说明我们编写的 <code>readelf</code> 程序，无法解析 <code>readelf</code> 文件。</p>
<p>但是系统工具 <code>readelf</code> 便可以解析 <code>readelf</code> 文件，输入命令 <code>readelf -S readelf</code>，内容如下所示:</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-txt" data-language="txt"><code class="language-txt">There are 31 section headers, starting at offset 0x3898:

节头：
  [号] 名称              类型             地址              偏移量
       大小              全体大小          旗标   链接   信息   对齐
  [ 0]                   NULL             0000000000000000  00000000
       0000000000000000  0000000000000000           0     0     0
  [ 1] .interp           PROGBITS         0000000000000318  00000318
       000000000000001c  0000000000000000   A       0     0     1
  [ 2] .note.gnu.pr[...] NOTE             0000000000000338  00000338
       0000000000000030  0000000000000000   A       0     0     8
  [ 3] .note.gnu.bu[...] NOTE             0000000000000368  00000368
       0000000000000024  0000000000000000   A       0     0     4
  [ 4] .note.ABI-tag     NOTE             000000000000038c  0000038c
       0000000000000020  0000000000000000   A       0     0     4
  [ 5] .gnu.hash         GNU_HASH         00000000000003b0  000003b0
       0000000000000028  0000000000000000   A       6     0     8
  [ 6] .dynsym           DYNSYM           00000000000003d8  000003d8
       0000000000000198  0000000000000018   A       7     1     8
  [ 7] .dynstr           STRTAB           0000000000000570  00000570
       00000000000000cb  0000000000000000   A       0     0     1
  [ 8] .gnu.version      VERSYM           000000000000063c  0000063c
       0000000000000022  0000000000000002   A       6     0     2
  [ 9] .gnu.version_r    VERNEED          0000000000000660  00000660
       0000000000000030  0000000000000000   A       7     1     8
  [10] .rela.dyn         RELA             0000000000000690  00000690
       00000000000000d8  0000000000000018   A       6     0     8
  [11] .rela.plt         RELA             0000000000000768  00000768
       00000000000000f0  0000000000000018  AI       6    24     8
  [12] .init             PROGBITS         0000000000001000  00001000
       000000000000001b  0000000000000000  AX       0     0     4
  [13] .plt              PROGBITS         0000000000001020  00001020
       00000000000000b0  0000000000000010  AX       0     0     16
  [14] .plt.got          PROGBITS         00000000000010d0  000010d0
       0000000000000010  0000000000000010  AX       0     0     16
  [15] .plt.sec          PROGBITS         00000000000010e0  000010e0
       00000000000000a0  0000000000000010  AX       0     0     16
  [16] .text             PROGBITS         0000000000001180  00001180
       00000000000003bd  0000000000000000  AX       0     0     16
  [17] .fini             PROGBITS         0000000000001540  00001540
       000000000000000d  0000000000000000  AX       0     0     4
  [18] .rodata           PROGBITS         0000000000002000  00002000
       000000000000004a  0000000000000000   A       0     0     4
  [19] .eh_frame_hdr     PROGBITS         000000000000204c  0000204c
       0000000000000044  0000000000000000   A       0     0     4
  [20] .eh_frame         PROGBITS         0000000000002090  00002090
       00000000000000ec  0000000000000000   A       0     0     8
  [21] .init_array       INIT_ARRAY       0000000000003d70  00002d70
       0000000000000008  0000000000000008  WA       0     0     8
  [22] .fini_array       FINI_ARRAY       0000000000003d78  00002d78
       0000000000000008  0000000000000008  WA       0     0     8
  [23] .dynamic          DYNAMIC          0000000000003d80  00002d80
       00000000000001f0  0000000000000010  WA       7     0     8
  [24] .got              PROGBITS         0000000000003f70  00002f70
       0000000000000090  0000000000000008  WA       0     0     8
  [25] .data             PROGBITS         0000000000004000  00003000
       0000000000000010  0000000000000000  WA       0     0     8
  [26] .bss              NOBITS           0000000000004020  00003010
       0000000000000010  0000000000000000  WA       0     0     32
  [27] .comment          PROGBITS         0000000000000000  00003010
       000000000000002b  0000000000000001  MS       0     0     1
  [28] .symtab           SYMTAB           0000000000000000  00003040
       0000000000000498  0000000000000018          29    19     8
  [29] .strtab           STRTAB           0000000000000000  000034d8
       00000000000002a4  0000000000000000           0     0     1
  [30] .shstrtab         STRTAB           0000000000000000  0000377c
       000000000000011a  0000000000000000           0     0     1
Key to Flags:
  W (write), A (alloc), X (execute), M (merge), S (strings), I (info),
  L (link order), O (extra OS processing required), G (group), T (TLS),
  C (compressed), x (unknown), o (OS specific), E (exclude),
  D (mbind), l (large), p (processor specific)<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>
<h4 id="差异原因分析">差异原因分析</h4>
<p>输入 <code>readelf -h hello</code> 命令，内容如下所示:</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-txt" data-language="txt"><code class="language-txt">ELF 头：
  Magic：   7f 45 4c 46 01 01 01 03 00 00 00 00 00 00 00 00 
  类别:                              ELF32
  数据:                              2 补码，小端序 (little endian)
  Version:                           1 (current)
  OS/ABI:                            UNIX - GNU
  ABI 版本:                          0
  类型:                              EXEC (可执行文件)
  系统架构:                          Intel 80386
  版本:                              0x1
  入口点地址：               0x8049600
  程序头起点：          52 (bytes into file)
  Start of section headers:          746252 (bytes into file)
  标志：             0x0
  Size of this header:               52 (bytes)
  Size of program headers:           32 (bytes)
  Number of program headers:         8
  Size of section headers:           40 (bytes)
  Number of section headers:         35
  Section header string table index: 34<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>
<p>输入 <code>readelf -h readelf</code> 命令，内容如下所示:</p>
<figure><div class="code-wrapper"><pre class="line-numbers language-none"><code class="language-none">ELF 头：
  Magic：   7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00 
  类别:                              ELF64
  数据:                              2 补码，小端序 (little endian)
  Version:                           1 (current)
  OS&#x2F;ABI:                            UNIX - System V
  ABI 版本:                          0
  类型:                              DYN (Position-Independent Executable file)
  系统架构:                          Advanced Micro Devices X86-64
  版本:                              0x1
  入口点地址：               0x1180
  程序头起点：          64 (bytes into file)
  Start of section headers:          14488 (bytes into file)
  标志：             0x0
  Size of this header:               64 (bytes)
  Size of program headers:           56 (bytes)
  Number of program headers:         13
  Size of section headers:           64 (bytes)
  Number of section headers:         31
  Section header string table index: 30<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div></figure>
<p>注意到 <code>hello</code> 是 <code>ELF32</code> 类型，而 <code>readelf</code> 是 <code>ELF64</code> 类型。</p>
<p>当我们打开 <code>readelf.c</code> 文件可以发现其中数据类型前缀都是 <code>ELF32</code>，这说明此程序仅能分析32位的 <code>ELF</code> 文件。所以它不能分析64位的 <code>ELF</code> 文件。</p>
<h2 id="Thinking-1-3">Thinking 1.3</h2>
<p>首先，需要bootloader来引导启动，因为GXemul仿真器支持直接加载 <code>ELF</code> 格式的内核，也就是说，GXemul已经提供了bootloader的引导(启动)功能。</p>
<p>在发现了内核的正确位置后，我们只需要想办法让内核被加载到那里就可以了，这里我们就需要用到一个控制加载地址的工具，Linker Script。Linker Script中记录了各个节应该如何映射到段，以及各个段应该被加载到的位置。</p>
<p>接着，在Exercise 1.2中，通过填补 <code>kernel.lds</code> 中空缺的 <code>.text</code>、<code>.data</code> 和 <code>.bss</code> 节部分，我们便可将内核调整到正确的位置上。</p>
<p>最后再来解决链接后的程序从何处开始执行的问题。程序执行的第一条指令的地址称为入口地址。我们的实验就在 <code>kernel.lds</code> 中通过 <code>ENTRY(_start)</code> 来设置程序入口为 <code>_start</code>。</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/CS/" class="category-chain-item">CS</a>
  
  
    <span>></span>
    
  <a href="/categories/CS/OS/" class="category-chain-item">OS</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/OS-AI/">#OS(AI)</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>OS AI Spring 2023 Lab1 Report</div>
      <div>http://mufancolin.github.io/2023/04/30/OS-AI-Spring-2023-Lab1-Report/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>Colin Mufan</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>2023-04-30</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/04/29/OS-AI-Spring-2023-Lab0-Report/" title="OS AI Spring 2023 Lab0 Report">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">OS AI Spring 2023 Lab0 Report</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/05/11/OS-AI-Spring-2023-Lab1-Analysis/" title="OS AI Spring 2023 Lab1 Analysis">
                        <span class="hidden-mobile">OS AI Spring 2023 Lab1 Analysis</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>Table of Contents</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  


  
  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script  src="https://lib.baomitu.com/prism/1.29.0/plugins/line-numbers/prism-line-numbers.min.js" ></script>

  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
